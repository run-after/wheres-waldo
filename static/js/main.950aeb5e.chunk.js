(this["webpackJsonpwheres-waldo"]=this["webpackJsonpwheres-waldo"]||[]).push([[0],{21:function(e,t,c){},22:function(e,t,c){},23:function(e,t,c){},24:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c(6),n=c.n(s),o=c(15),r=c.n(o),i=(c(21),c(4)),l=c(9),m=(c(22),c(23),c(24),function(e){var t=Math.floor(e/6e4);t>59&&(t%=60);var c=Math.floor(e/1e3);c>59&&(c%=60);var a=Math.floor(e/100);a>10&&(a%=10);var s=Math.floor(e/10);return s>10&&(s%=10),"".concat(t.toString().padStart(2,"0"),":").concat(c.toString().padStart(2,"0"),":").concat(a).concat(s)}),d=(c(11),function(e){var t,c=i.a.firestore();return c.collection(e.map).doc("hiScores").get().then((function(e){t=e.data()})).then((function(){var a=t.scores.findIndex((function(t){return e.score<t.time})),s={name:e.name,time:e.score};a>-1&&(t.scores.splice(a,0,s),t.scores.pop(),c.collection(e.map).doc("hiScores").set(t))})).then((function(){t.scores.forEach((function(e,c){var a=document.getElementById(c+1);a.querySelector(".name").textContent=t.scores[c].name,a.querySelector(".time").textContent=m(t.scores[c].time)}))})),document.querySelector(".timer").textContent=m(e.score),c.collection(e.map).doc(i.a.auth().currentUser.uid).delete(),Object(a.jsxs)("div",{className:"scoreboard",children:[Object(a.jsx)("button",{className:"restart-btn",onClick:function(){return window.location.reload()},children:"Restart"}),Object(a.jsxs)("div",{className:"banner",children:[Object(a.jsx)("span",{className:"place",children:"Place"}),Object(a.jsx)("span",{className:"name",children:"Name"}),Object(a.jsx)("span",{className:"time",children:"Time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"1",children:[Object(a.jsx)("span",{className:"place",children:"1"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"2",children:[Object(a.jsx)("span",{className:"place",children:"2"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"3",children:[Object(a.jsx)("span",{className:"place",children:"3"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"4",children:[Object(a.jsx)("span",{className:"place",children:"4"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"5",children:[Object(a.jsx)("span",{className:"place",children:"5"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"6",children:[Object(a.jsx)("span",{className:"place",children:"6"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"7",children:[Object(a.jsx)("span",{className:"place",children:"7"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"8",children:[Object(a.jsx)("span",{className:"place",children:"8"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"9",children:[Object(a.jsx)("span",{className:"place",children:"9"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot ten",id:"10",children:[Object(a.jsx)("span",{className:"place",children:"10"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]})]})}),j=(c(26),c(14),function(e){var t,c,n=Object(s.useState)(0),o=Object(l.a)(n,2),r=o[0],m=o[1],j=e.characters,u=i.a.firestore(),p=i.a.storage().ref("".concat(e.map,".jpeg")),b=function(){return 0===Object.keys(j).length},h=function(a,s,n){var o=document.querySelector(".menu"),r=document.querySelector(".selector");s>=j[a].x-25&&s<=j[a].x+25&&n>=j[a].y-30&&n<=j[a].y+30?(document.querySelector("#".concat(a,"-img")).style="opacity: 0.25;",delete j[a],o.remove(),r.classList.remove("selector"),r.classList.add("correct"),b()&&(c=(new Date).getTime(),u.collection(e.map).doc(i.a.auth().currentUser.uid).get().then((function(a){t=a.data().timeStart,u.collection(e.map).doc(i.a.auth().currentUser.uid).set({timeStart:t,timeEnd:(new Date).getTime()}).then((function(){m(c-t)}))})),document.querySelector(".timer").textContent="")):(o.remove(),r.remove(),console.log("Wrong"))};return Object(s.useEffect)((function(){document.getElementById("image").addEventListener("click",(function(e){!function(e){var t=document.querySelector(".selector");t&&t.remove();var c=e.layerX,a=e.layerY,s=document.createElement("div");s.classList.add("selector"),s.style="left: ".concat(c-25,"px; top: ").concat(a-25,"px;"),document.querySelector(".picture").appendChild(s)}(e),function(e){var t=document.querySelector(".menu");t&&t.remove();var c=e.layerX,a=e.layerY,s=document.createElement("div");s.classList.add("menu"),s.style=c>1700?"left: ".concat(c-115,"px; top: ").concat(a+25,"px;"):"left: ".concat(c+25,"px; top: ").concat(a+25,"px;"),Object.keys(j).forEach((function(e){var t=document.createElement("button");t.classList.add("person-selector"),t.textContent=e,t.value=e,s.appendChild(t),t.addEventListener("click",(function(){h(e,c,a)}))})),document.querySelector(".picture").appendChild(s)}(e)})),p.getDownloadURL().then((function(e){document.querySelector("#image").setAttribute("src",e)})).catch((function(e){console.log(e),window.location.reload()})),document.querySelector(".map-selection").remove()}),[]),Object(a.jsxs)("div",{className:"picture",children:[Object(a.jsx)("img",{id:"image",alt:e.map}),b()&&Object(a.jsx)(d,{score:r,name:e.name,map:e.map})]})}),u=(c(27),function(e){var t=i.a.firestore().collection(e.map),c=Object(s.useState)({timeStart:0,time:0}),n=Object(l.a)(c,2),o=n[0],r=n[1];return Object(a.jsxs)("div",{className:"timer",children:[Object(a.jsxs)("div",{className:"block-out-box",children:[Object(a.jsx)("h1",{children:"Click 'Start' to begin"}),Object(a.jsx)("p",{children:"Enter your name, then click start."}),Object(a.jsx)("p",{children:"Your timer will begin. Find all 4 characters."}),Object(a.jsx)("p",{children:"(found in upper right-hand corner)"}),Object(a.jsxs)("form",{onSubmit:function(){var c=document.querySelector("#name");e.setName(c.value),document.querySelector(".block-out-box").remove();var a=(new Date).getTime();t.doc(i.a.auth().currentUser.uid).set({timeStart:a}),setInterval((function(){r({timeStart:a,time:(new Date).getTime()-a})}),10)},children:[Object(a.jsx)("input",{required:!0,maxLength:"15",id:"name",type:"text",placeholder:"Please enter your name"}),Object(a.jsx)("button",{type:"submit",className:"start-button",children:"Start"})]})]}),m(o.time)]})}),p=(c(28),function(e){var t,c=i.a.storage().ref();return i.a.firestore().collection(e.map).doc("listOfCharacters").get().then((function(e){t=e.data().characters})).then((function(){t.forEach((function(e){c.child("".concat(e,".png")).getDownloadURL().then((function(t){document.querySelector("#".concat(e,"-img")).setAttribute("src",t)})).catch((function(e){console.log(e)}))}))})),Object(a.jsxs)("div",{className:"header",children:[Object(a.jsxs)("div",{className:"character-container",children:[Object(a.jsx)("h6",{children:"Characters"}),Object(a.jsxs)("div",{className:"characters",children:[Object(a.jsx)("img",{id:"waldo-img",alt:"waldo"}),Object(a.jsx)("img",{id:"wilma-img",alt:"wilma"}),Object(a.jsx)("img",{id:"odlaw-img",alt:"odlaw"}),Object(a.jsx)("img",{id:"wizard-img",alt:"wizard"})]})]}),Object(a.jsx)(u,{setName:e.setName,map:e.map})]})});c(29);var b=function(e){var t=Object(s.useState)(""),c=Object(l.a)(t,2),n=c[0],o=c[1],r=i.a.firestore(),m=Object(s.useState)({}),d=Object(l.a)(m,2),u=d[0],b=d[1];return Object(s.useEffect)((function(){i.a.auth().signInAnonymously().catch((function(e){console.log(e)})),function(){var t={};r.collection(e.map).doc("listOfCharacters").get().then((function(c){c.data().characters.forEach((function(c){r.collection(e.map).doc("characters").collection(c).doc("coords").get().then((function(e){t[c]=e.data(),4===Object.keys(t).length&&b(t)}))}))}))}()}),[]),Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(p,{setName:o,map:e.map}),4===Object.keys(u).length&&Object(a.jsx)(j,{characters:u,name:n,map:e.map})]})},h=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),c=t[0],n=t[1],o=Object(s.useState)(!1),r=Object(l.a)(o,2),m=r[0],d=r[1],j=i.a.storage();j.ref("troy.jpeg").getDownloadURL().then((function(e){document.querySelector("#troy-selection").setAttribute("src",e)})).catch((function(e){console.log(e),window.location.reload()})),j.ref("giants.jpeg").getDownloadURL().then((function(e){document.querySelector("#giants-selection").setAttribute("src",e)})).catch((function(e){console.log(e),window.location.reload()})),j.ref("gluttons.jpeg").getDownloadURL().then((function(e){document.querySelector("#gluttons-selection").setAttribute("src",e)})).catch((function(e){console.log(e),window.location.reload()}));var u=function(e){n(e),d(!0)};return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"map-selection",children:[Object(a.jsx)("div",{className:"intro",children:"Select map"}),Object(a.jsxs)("div",{className:"maps",children:[Object(a.jsxs)("div",{className:"map-choice",children:[Object(a.jsx)("p",{children:"Troy"}),Object(a.jsx)("img",{id:"troy-selection",alt:"troy"}),Object(a.jsx)("button",{onClick:function(){return u("troy")},children:"Select"})]}),Object(a.jsxs)("div",{className:"map-choice",children:[Object(a.jsx)("p",{children:"Giants"}),Object(a.jsx)("img",{id:"giants-selection",alt:"giants"}),Object(a.jsx)("button",{onClick:function(){return u("giants")},children:"Select"})]}),Object(a.jsxs)("div",{className:"map-choice",children:[Object(a.jsx)("p",{children:"Gluttons"}),Object(a.jsx)("img",{id:"gluttons-selection",alt:"gluttons"}),Object(a.jsx)("button",{onClick:function(){return u("gluttons")},children:"Select"})]})]})]}),m&&Object(a.jsx)(b,{map:c})]})};i.a.initializeApp({apiKey:"AIzaSyDfrvu6lFPHgpa-VfobKgF3leWgziYxpqg",authDomain:"where-s-waldo-f0b97.firebaseapp.com",projectId:"where-s-waldo-f0b97",storageBucket:"where-s-waldo-f0b97.appspot.com",messagingSenderId:"5481585257",appId:"1:5481585257:web:68f08a2aa08b0e968160f8"}),r.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(h,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.950aeb5e.chunk.js.map