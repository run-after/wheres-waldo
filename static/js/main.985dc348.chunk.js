(this["webpackJsonpwheres-waldo"]=this["webpackJsonpwheres-waldo"]||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var a=c(2),s=c(9),n=c.n(s),o=c(20),r=c.n(o),i=c(11),l=(c(27),c(28),c(8)),m=(c(31),function(e){var t,c=l.a.firestore();c.collection("Troy").doc("hiScores").get().then((function(e){t=e.data()})).then((function(){var a=t.scores.findIndex((function(t){return e.score<t.time})),s={name:e.name,time:e.score};a>-1&&(t.scores.splice(a,0,s),t.scores.pop(),c.collection("Troy").doc("hiScores").set(t))})).then((function(){t.scores.forEach((function(e,c){var a=document.getElementById(c+1);a.querySelector(".name").textContent=t.scores[c].name,a.querySelector(".time").textContent=s(t.scores[c].time)}))}));var s=function(e){if(9999999999===e)return"99:99:99";var t=Math.floor(e/6e4);t>59&&(t%=60);var c=Math.floor(e/1e3);c>59&&(c%=60);var a=Math.floor(e/100);a>10&&(a%=10);var s=Math.floor(e/10);return s>10&&(s%=10),"".concat(t.toString().padStart(2,"0"),":").concat(c.toString().padStart(2,"0"),":").concat(a).concat(s)};return document.querySelector(".timer").textContent=s(e.score),c.collection("Troy").doc(l.a.auth().currentUser.uid).delete(),Object(a.jsxs)("div",{className:"scoreboard",children:[Object(a.jsxs)("div",{className:"banner",children:[Object(a.jsx)("span",{className:"place",children:"Place"}),Object(a.jsx)("span",{className:"name",children:"Name"}),Object(a.jsx)("span",{className:"time",children:"Time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"1",children:[Object(a.jsx)("span",{className:"place",children:"1"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"2",children:[Object(a.jsx)("span",{className:"place",children:"2"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"3",children:[Object(a.jsx)("span",{className:"place",children:"3"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"4",children:[Object(a.jsx)("span",{className:"place",children:"4"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"5",children:[Object(a.jsx)("span",{className:"place",children:"5"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"6",children:[Object(a.jsx)("span",{className:"place",children:"6"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"7",children:[Object(a.jsx)("span",{className:"place",children:"7"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"8",children:[Object(a.jsx)("span",{className:"place",children:"8"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot",id:"9",children:[Object(a.jsx)("span",{className:"place",children:"9"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]}),Object(a.jsxs)("div",{className:"score-spot ten",id:"10",children:[Object(a.jsx)("span",{className:"place",children:"10"}),Object(a.jsx)("span",{className:"name"}),Object(a.jsx)("span",{className:"time"})]})]})}),d=function(e){var t,c,n=Object(s.useState)(0),o=Object(i.a)(n,2),r=o[0],d=o[1],j=e.characters,u=l.a.firestore(),b=l.a.storage().ref("maps_troy.jpeg"),h=function(){return 0===Object.keys(j).length},p=function(e,a,s){var n=document.querySelector(".menu"),o=document.querySelector(".selector");a>=j[e].x-25&&a<=j[e].x+25&&s>=j[e].y-30&&s<=j[e].y+30?(document.querySelector("#".concat(e,"-img")).style="opacity: 0.25;",delete j[e],n.remove(),o.classList.remove("selector"),o.classList.add("correct"),h()&&(c=(new Date).getTime(),u.collection("Troy").doc(l.a.auth().currentUser.uid).get().then((function(e){t=e.data().timeStart,u.collection("Troy").doc(l.a.auth().currentUser.uid).set({timeStart:t,timeEnd:(new Date).getTime()}).then((function(){d(c-t)}))})),document.querySelector(".timer").textContent="")):(n.remove(),o.remove(),console.log("Wrong"))};return Object(s.useEffect)((function(){document.getElementById("image").addEventListener("click",(function(e){!function(e){var t=document.querySelector(".selector");t&&t.remove();var c=e.layerX,a=e.layerY,s=document.createElement("div");s.classList.add("selector"),s.style="left: ".concat(c-25,"px; top: ").concat(a-25,"px;"),document.querySelector(".picture").appendChild(s)}(e),function(e){var t=document.querySelector(".menu");t&&t.remove();var c=e.layerX,a=e.layerY,s=document.createElement("div");s.classList.add("menu"),s.style="left: ".concat(c+25,"px; top: ").concat(a+25,"px;"),Object.keys(j).forEach((function(e){var t=document.createElement("button");t.classList.add("person-selector"),t.textContent=e,t.value=e,s.appendChild(t),t.addEventListener("click",(function(){p(e,c,a)}))})),document.querySelector(".picture").appendChild(s)}(e)})),b.getDownloadURL().then((function(e){document.querySelector("#image").setAttribute("src",e)})).catch((function(e){console.log(e)}))}),[]),Object(a.jsxs)("div",{className:"picture",children:[Object(a.jsx)("img",{id:"image",alt:"Troy"}),h()&&Object(a.jsx)(m,{score:r,name:e.name})]})},j=(c(32),c(18),function(e){var t=l.a.firestore().collection("Troy"),c=Object(s.useState)({timerOn:!1,timeStart:0,time:0}),n=Object(i.a)(c,2),o=n[0],r=n[1];return Object(a.jsxs)("div",{className:"timer",children:[Object(a.jsxs)("div",{className:"block-out-box",children:[Object(a.jsx)("h1",{children:"Click to begin"}),Object(a.jsx)("p",{children:"When you click start, your timer will begin. Find all 4 characters"}),Object(a.jsxs)("form",{onSubmit:function(){var c=document.querySelector("#name");e.setName(c.value),document.querySelector(".block-out-box").remove();var a=(new Date).getTime();t.doc(l.a.auth().currentUser.uid).set({timeStart:a}),setInterval((function(){r({timerOn:!0,timeStart:a,time:(new Date).getTime()-a})}),10)},children:[Object(a.jsx)("input",{required:!0,maxLength:"15",id:"name",type:"text",placeholder:"Please enter your name"}),Object(a.jsx)("button",{type:"submit",className:"start-button",children:"Start"})]})]}),function(e){var t=Math.floor(e/6e4);t>59&&(t%=60);var c=Math.floor(e/1e3);c>59&&(c%=60);var a=Math.floor(e/100);a>10&&(a%=10);var s=Math.floor(e/10);return s>10&&(s%=10),"".concat(t.toString().padStart(2,"0"),":").concat(c.toString().padStart(2,"0"),":").concat(a).concat(s)}(o.time)]})}),u=(c(33),c(19),function(e){var t=l.a.storage().ref();return t.child("waldo.png").getDownloadURL().then((function(e){document.querySelector("#waldo-img").setAttribute("src",e)})).catch((function(e){console.log(e)})),t.child("wilma.png").getDownloadURL().then((function(e){document.querySelector("#wilma-img").setAttribute("src",e)})).catch((function(e){console.log(e)})),t.child("odlaw.png").getDownloadURL().then((function(e){document.querySelector("#odlaw-img").setAttribute("src",e)})).catch((function(e){console.log(e)})),t.child("wizard.png").getDownloadURL().then((function(e){document.querySelector("#wizard-img").setAttribute("src",e)})).catch((function(e){console.log(e)})),Object(a.jsxs)("div",{className:"header",children:[Object(a.jsxs)("div",{className:"character-container",children:[Object(a.jsx)("h6",{children:"Characters"}),Object(a.jsxs)("div",{className:"characters",children:[Object(a.jsx)("img",{id:"waldo-img",alt:"waldo"}),Object(a.jsx)("img",{id:"wilma-img",alt:"wilma"}),Object(a.jsx)("img",{id:"odlaw-img",alt:"odlaw"}),Object(a.jsx)("img",{id:"wizard-img",alt:"wizard"})]})]}),Object(a.jsx)(j,{setName:e.setName})]})});var b=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),c=t[0],n=t[1],o=l.a.firestore(),r=Object(s.useState)({}),m=Object(i.a)(r,2),j=m[0],b=m[1];return Object(s.useEffect)((function(){l.a.auth().signInAnonymously().catch((function(e){console.log(e)})),function(){var e={};o.collection("Troy").doc("listOfCharacters").get().then((function(t){t.data().characters.forEach((function(t){o.collection("Troy").doc("characters").collection(t).doc("coords").get().then((function(c){e[t]=c.data(),4===Object.keys(e).length&&b(e)}))}))}))}()}),[]),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(u,{setName:n}),4===Object.keys(j).length&&Object(a.jsx)(d,{characters:j,name:c})]})},h=(c(34),c(21));c(35);h.a.initializeApp({apiKey:"AIzaSyDfrvu6lFPHgpa-VfobKgF3leWgziYxpqg",authDomain:"where-s-waldo-f0b97.firebaseapp.com",projectId:"where-s-waldo-f0b97",storageBucket:"where-s-waldo-f0b97.appspot.com",messagingSenderId:"5481585257",appId:"1:5481585257:web:68f08a2aa08b0e968160f8"}),r.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(b,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.985dc348.chunk.js.map